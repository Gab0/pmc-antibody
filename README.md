## Introduction

`PMC-AB` aims to mimic CiteAB's functionaliy as an Antibody citation search engine.

Currently we search articles on EuropePMC.

This software is packaged as a Python module.

## Workflow

For a given input that uniquely identifies a commercially available antibody,
this program generates EuropePMC-compatible search queries that will return articles that cite that antibody.

Queries are generated by replacing previously-known templates that represent ways that a antibody can be referenced in academic texts

### Input

Antibody data: `SKU`, `CLONE_ID`, `MANUFACTURER`, ``

### Query templates

```
$SKU $MANUFACTURER
#$TARGET*$CLONE
#$MANUFACTURER AND $CLONE
#$SKU AND $MANUFACTURER
"$TARGET \(Clone #$CLONE, $MANUFACTURER"
"$TARGET antibody \($CLONE; $MANUFACTURER"
"$MANUFACTURER clone $CLONE"
"$MANUFACTURER, clone $CLONE"
```

### Built queries

Applying antibody information to our query templates yield a list of independent queries:

```
"CD4 \(Clone #RM4-5, BD Biosciences"
"CD4 \(Clone #RM4-5, BDBiosciences"
"CD4 \(Clone #RM4-5, BD-Biosciences"
"CD4 antibody \(RM4-5; BD Biosciences"
"CD4 antibody \(RM4-5; BDBiosciences"
"CD4 antibody \(RM4-5; BD-Biosciences"
"BD Biosciences clone RM4-5"
"BDBiosciences clone RM4-5"
"BD-Biosciences clone RM4-5"
"BD Biosciences, clone RM4-5"
"BDBiosciences, clone RM4-5"
"BD-Biosciences, clone RM4-5"
```

We can combine independent queries with `OR` directives so we can query all of them in a single API call:
```
(550280 BD Biosciences) OR (550280 BDBiosciences) OR (550280 BD-Biosciences) OR ("CD4 \(Clone #RM4-5, BD Biosciences") OR ("CD4 \(Clone #RM4-5, BDBiosciences") OR ("CD4 \(Clone #RM4-5, BD-Biosciences") OR ("CD4 antibody \(RM4-5; BD Biosciences") OR ("CD4 antibody \(RM4-5; BDBiosciences") OR ("CD4 antibody \(RM4-5; BD-Biosciences") OR ("BD Biosciences clone RM4-5") OR ("BDBiosciences clone RM4-5") OR ("BD-Biosciences clone RM4-5") OR ("BD Biosciences, clone RM4-5") OR ("BDBiosciences, clone RM4-5") OR ("BD-Biosciences, clone RM4-5")

```

## Validation

To validate search results, we compare to the .xlsx reference, which is based on CiteAB results.

Application execution two type of files:

1. A `.csv` record containing overall statistics:

|Antibody ID          |Fulfillment Rate|False Positive Rate|Search Hit Count|Search N|Agreement N|Benchmark N (CiteAB)|
|---------------------|----------------|-------------------|----------------|--------|-----------|--------------------|
|BD Biosciences:550280|28.27%          |92.55%             |4556            |2000    |149        |527                 |
|Invitrogen:11-0041-82|20.7%           |95.25%             |4780            |2000    |95         |459                 |
|Abcam:ab183685       |80.42%          |16.1%              |323             |323     |271        |337                 |
|BioLegend:100401     |40.96%          |93.2%              |5591            |2000    |136        |332                 |
|Abcam:ab133616       |76.92%          |29.26%             |311             |311     |220        |286                 |
|R&D Systems:AF1828   |66.67%          |4.76%              |42              |42      |40         |60                  |
|R&D Systems:BAF1828  |71.43%          |0.0%               |20              |20      |20         |28                  |

2. A list of articles that were retrieved by the application but were not in the `.xlsx` records, one per antibody.

## Usage

### Setup

Usual Python package setup:

``` sh

pip install -r requirements.txt
pip install .
```

### Execution

To evaluate all antibody records and produce result records.
Files will be created in the current directory, which can be any.

``` sh
pmcab -a
```



