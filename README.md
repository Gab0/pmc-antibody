## Introduction

`PMC-AB` aims to mimic CiteAB's functionaliy as an Antibody citation search engine.

Currently we search articles on EuropePMC.

This software is packaged as a Python module.

## Workflow

For a given input that uniquely identifies a commercially available antibody,
this program generates EuropePMC-compatible search queries that will return articles that cite that antibody.

Queries are generated by replacing previously-known templates that represent ways that a antibody can be referenced in academic texts

### Input

Antibody data: `SKU`, `CLONE_ID`, `MANUFACTURER`, ``

### Query templates

```
$SKU $MANUFACTURER
#$TARGET*$CLONE
#$MANUFACTURER AND $CLONE
#$SKU AND $MANUFACTURER
"$TARGET \(Clone #$CLONE, $MANUFACTURER"
"$TARGET antibody \($CLONE; $MANUFACTURER"
"$MANUFACTURER clone $CLONE"
"$MANUFACTURER, clone $CLONE"
```

### Built queries

Applying antibody information to our query templates yield a list of independent queries:

```
"CD4 \(Clone #RM4-5, BD Biosciences"
"CD4 \(Clone #RM4-5, BDBiosciences"
"CD4 \(Clone #RM4-5, BD-Biosciences"
"CD4 antibody \(RM4-5; BD Biosciences"
"CD4 antibody \(RM4-5; BDBiosciences"
"CD4 antibody \(RM4-5; BD-Biosciences"
"BD Biosciences clone RM4-5"
"BDBiosciences clone RM4-5"
"BD-Biosciences clone RM4-5"
"BD Biosciences, clone RM4-5"
"BDBiosciences, clone RM4-5"
"BD-Biosciences, clone RM4-5"
```

We can combine independent queries with `OR` directives so we can query all of them in a single API call:
```
(550280 BD Biosciences) OR (550280 BDBiosciences) OR (550280 BD-Biosciences) OR ("CD4 \(Clone #RM4-5, BD Biosciences") OR ("CD4 \(Clone #RM4-5, BDBiosciences") OR ("CD4 \(Clone #RM4-5, BD-Biosciences") OR ("CD4 antibody \(RM4-5; BD Biosciences") OR ("CD4 antibody \(RM4-5; BDBiosciences") OR ("CD4 antibody \(RM4-5; BD-Biosciences") OR ("BD Biosciences clone RM4-5") OR ("BDBiosciences clone RM4-5") OR ("BD-Biosciences clone RM4-5") OR ("BD Biosciences, clone RM4-5") OR ("BDBiosciences, clone RM4-5") OR ("BD-Biosciences, clone RM4-5")

```

## Validation

To validate search results, we compare to the .xlsx reference, which is based on CiteAB results.

Application execution two type of files:

1. A `.csv` record containing overall statistics:

|Antibody ID          |Agreement Rate    |False Positive Rate|Search N|Benchmark N|
|---------------------|------------------|-------------------|--------|-----------|
|550280/BD Biosciences|0.19              |0.81               |195     |527        |
|11-0041-82/Invitrogen|0.15              |0.85               |515     |459        |
|ab183685/Abcam       |0.73              |0.27               |297     |337        |
|100401/BioLegend     |0.05              |0.95               |328     |332        |
|ab133616/Abcam       |0.66              |0.33               |247     |286        |
|AF1828/R&D Systems   |0.89              |0.10               |38      |60         |
|BAF1828/R&D Systems  |0.93              |0.06               |16      |28         |


2. A list of articles that were retrieved by the application but were not in the `.xlsx` records, one per antibody.

## Usage

### Setup

Usual Python package setup:

``` sh

pip install -r requirements.txt
pip install .
```

### Execution

To evaluate all antibody records and produce result records.
Files will be created in the current directory, which can be any.

``` sh
pmcab -a
```



